syntax = "proto3";
package mp.pb.telemetry;

import "telemetry/channel.proto";

// Sent on start or on request with information
// about available channels, frequencies, ...
message Broadcast {
    // List of available channels and additional data
    // that they might provide. Additional broadcast data
    // is currently placed into the same message as regular
    // channel data, starting from tag 100
    // TODO: Channel payloads can be split into regular
    // Channel messages and ChannelBroadcast messages
    repeated Channel channels = 1;
    // TODO: Supported telemetry rates enum
}

// Request a channel to be periodically sent
message Subscribe {
    // Channel ID
    uint32 channel_id = 1;
    // TODO: Channel rate
}

// One or more channels with additional metadata like timestamp, ...
message Telemetry {
    // Timestamp of starting the creation of this message
    uint32 timestamp_ms = 1;
    // In case of additional metadata like
    // telemetry specific message id, ...
    reserved 2 to 8;

    // All channels which were ready for sending at
    // the time of creating this message
    repeated Channel channels = 9;
}
