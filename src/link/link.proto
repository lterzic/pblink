syntax = "proto3";
package mp.pb.link;

import "copter/copter.proto";
import "logging/logging.proto";
import "telemetry/telemetry.proto";

// Top-level message wrapper for messages from
// GCS to the vehicle
message UplinkMessage {
    // Uplink message sequence id
    uint32 message_id   = 1;
    // Source (GCS) ID
    uint32 src_id       = 2;
    // Destination (vehicle) ID
    uint32 dest_id      = 3;
    // Session ID (per vehicle), ...
    reserved 4 to 8;

    oneof payload {
        telemetry.Uplink telemetry = 9;
        logging.Uplink logging = 10;
        copter.Uplink copter = 11;
        // TODO: Mission upload, set configuration, ...
    }
}

// Top-level message wrapper for messages from
// the vehicle to GCS
message DownlinkMessage {
    // Downlink message sequence id
    uint32 message_id   = 1;
    // Source (vehicle) ID
    uint32 src_id       = 2;
    // Destination (GCS) ID
    uint32 dest_id      = 3;
    // Session ID (per vehicle), ...
    reserved 4 to 8;

    oneof payload {
        telemetry.Downlink telemetry = 9;
        logging.Downlink logging = 10;
    }
}