syntax = "proto3";
package mp.pb.link;

import "control/control.proto";

message ControlUplink {
    // Future metadata
    reserved 1 to 8;

    message RequestTransition {
        // If a transition can be made to the requested
        // control type, the initial command is used to
        // prevent unexpected behavior
        control.Controls initial = 1;
    }

    oneof payload {
        RequestTransition request_transition = 9;
    }
}

message ControlDownlink {
    message Transition {
        // Current (after) control is used to sync the UI
        // with the new control mode on the vehicle
        control.Controls after    = 1;
        control.Controls before   = 2;
    }

    oneof payload {
        Transition transition = 1;
    }
}