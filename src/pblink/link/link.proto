syntax = "proto3";
package pblink.link;

import "pblink/link/modules/control.proto";
import "pblink/link/modules/logging.proto";
import "pblink/link/modules/telemetry.proto";

// Top-level message wrapper for messages from
// GCS to the vehicle
message Uplink {
    // Uplink message sequence id
    uint32 message_id   = 1;
    // Source (GCS) ID
    uint32 src_id       = 2;
    // Destination (vehicle) ID
    uint32 dest_id      = 3;
    // Session ID (per vehicle), ...
    reserved 4 to 8;

    oneof payload {
        TelemetryUplink telemetry = 9;
        LoggingUplink logging = 10;
        ControlUplink control = 11;
    }
}

// Top-level message wrapper for messages from
// the vehicle to GCS
message Downlink {
    // Downlink message sequence id
    uint32 message_id   = 1;
    // Source (vehicle) ID
    uint32 src_id       = 2;
    // Destination (GCS) ID
    uint32 dest_id      = 3;
    // Session ID (per vehicle), ...
    reserved 4 to 8;

    oneof payload {
        TelemetryDownlink telemetry = 9;
        LoggingDownlink logging = 10;
        ControlDownlink control = 11;
    }
}